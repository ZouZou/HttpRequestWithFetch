class DQHTTP{static async request(a,b="GET",c={},d){this.showSpinner(),c="{}"===JSON.stringify(c)?new Headers({"Content-Type":"application/json"}):new Headers(c);let e={method:b,headers:c,mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer"};d&&(e.body=d);try{const b=await fetch(a,e);if(this.hideSpinner(),!b.ok)switch(b.status){case 401:throw new Error("Unauthorized request! "+b.status);case 403:throw new Error("Forbidend request! "+b.status);case 404:throw new Error("Requested resource not found! "+b.status);default:throw new Error("Network response was not OK! "+b.status);}const c=b.headers.get("content-type");if(!c)return console.error("Oops, there is a problem with the content type of the response!"),b.json();if(c.includes("application/json"))return b.json();if(c.includes("text/plain"))return b.blob();if(c.includes("image/png"))return b.blob().then(a=>URL.createObjectURL(a))}catch(a){return this.hideSpinner(),console.error(a),{error:a.message}}}static showSpinner(){typeof loaderDiv==null&&(window.loaderDiv={}),window.loaderDiv||(window.loaderDiv=DQSpinner.createSpinner()),"block"!==window.loaderDiv.style.display&&(window.loaderDiv.style.display="block")}static hideSpinner(){window.loaderDiv&&(window.loaderDiv.style.display="none")}static get(a,b={}){return this.request(a,"GET",b)}static post(a,b={},c){return this.request(a,"POST",b,c)}static put(a,b={},c){return this.request(a,"PUT",b,c)}static patch(a,b={},c){return this.request(a,"PATCH",b,c)}static delete(a,b={}){return this.request(a,"DELETE",b)}static upload(a,b={},c){return this.request(a,"PUT",b,c)}}class DQSpinner{static createCSSSelector(a,b){if(document.styleSheets&&0!=document.getElementsByTagName("head").length){var c,d;if(0<document.styleSheets.length)for(var e=0;e<document.styleSheets.length;e++)if(!document.styleSheets[e].disabled){var f=document.styleSheets[e].media;if(d=typeof f,"string"==d?(""==f||-1!=f.indexOf("screen"))&&(c=document.styleSheets[e]):"object"==d&&(""==f.mediaText||-1!=f.mediaText.indexOf("screen"))&&(c=document.styleSheets[e]),"undefined"!=typeof c)break}if("undefined"==typeof c){var g=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(g);for(var e=0;e<document.styleSheets.length;e++)document.styleSheets[e].disabled||(c=document.styleSheets[e]);var f=c.media;d=typeof f}if("string"==d){for(var e=0;e<c.rules.length;e++)if(c.cssRules[e].selectorText&&c.cssRules[e].selectorText.toLowerCase()==a.toLowerCase())return void(c.cssRules[e].style.cssText=b);c.insertRule(a,b)}else if("object"==d){for(var e=0;e<c.cssRules.length;e++)if(c.cssRules[e].selectorText&&c.cssRules[e].selectorText.toLowerCase()==a.toLowerCase())return void(c.cssRules[e].style.cssText=b);c.insertRule(a+"{"+b+"}",c.cssRules.length)}}}static createSpinner(){this.createCSSSelector("@-webkit-keyframes spin","0% { transform: rotate(0); } 100% { transform: rotate(360deg); }"),this.createCSSSelector("@keyframes spin","0% { transform: rotate(0); } 100% { transform: rotate(360deg); }"),this.createCSSSelector(".spinner","position: fixed;top: 0;left: 0;width: 100%;height: 100%;z-index: 1070;overflow: hidden;"),this.createCSSSelector(".spinner div:first-child","display: block;position: relative;left: 50%;top: 50%;width: 150px;height: 150px;margin: -75px 0 0 -75px;border-radius: 50%;box-shadow: 0 3px 3px 0 rgba(255, 56, 106, 1);transform: translate3d(0, 0, 0);animation: spin 2s linear infinite;"),this.createCSSSelector(".spinner div:first-child:after, .spinner div:first-child:before","content: \"\";position: absolute;border-radius: 50%;"),this.createCSSSelector(".spinner div:first-child:before","top: 5px;left: 5px;right: 5px;bottom: 5px;box-shadow: 0 3px 3px 0 rgb(255, 228, 32);-webkit-animation: spin 3s linear infinite;animation: spin 3s linear infinite;"),this.createCSSSelector(".spinner div:first-child:after","top: 15px;left: 15px;right: 15px;bottom: 15px;box-shadow: 0 3px 3px 0 rgba(61, 175, 255, 1);animation: spin 1.5s linear infinite;");const a=document.createElement("div");return a.id="dqhttprequest_loader",a.className="spinner",a.innerHTML="",a.innerHTML+="<div class=\"blob blob-0\"></div>",a.innerHTML+="<div class=\"blob blob-1\"></div>",a.innerHTML+="<div class=\"blob blob-2\"></div>",a.innerHTML+="<div class=\"blob blob-3\"></div>",a.innerHTML+="<div class=\"blob blob-4\"></div>",a.innerHTML+="<div class=\"blob blob-5\"></div>",document.body.appendChild(a)}}